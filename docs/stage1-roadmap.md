# Stage1 里程碑与风险（Draft）

## 0. 当前阶段定位

- 当前执行阶段：**Stage1 Phase1**。
- 目标：实现一个完整可用网站（MVP）。
- 范围冻结：6 个建筑 + 2 种物品 + 1 个启用配方。

## 1. 里程碑划分

## M1：需求冻结与数据冻结

交付：

- Stage1 细化 PRD
- 数据字典
- 交互与仿真规范

出口标准：

- 关键术语、字段、口径一致。

## M2：可玩闭环实现

交付：

- 画布放置/移动/删除
- 连接创建/删除
- 开始仿真/退出仿真

出口标准：

- 可搭建并运行 `originium_ore -> originium_powder` 基础闭环产线。

## M3：统计与状态完善

交付：

- 库存与 `/min` 统计
- 缺料状态与提示
- 重置库存

出口标准：

- 指标可观测且与操作变化一致。

## M4：存档与验收

交付：

- localStorage 存档恢复
- 验收用例执行记录

出口标准：

- 通过 Stage1 DoD。

## M5：Phase1 范围封板

交付：

- 六建筑功能全部可用（取货口/粉碎机/供电桩/存储箱/灌装机/传送带节点）。
- 两物品闭环可运行（`originium_ore -> originium_powder`）。
- 单启用配方可稳定执行（`r_crusher_originium_powder_basic`）。

出口标准：

- 在静态托管环境中形成可用网站。
- 不超出 Phase1 冻结范围。

## 2. 风险登记

## R-01 仿真逻辑复杂导致结果不稳定

- 触发：多台机器并发结算。
- 缓解：统一 tick 顺序与状态机。

## R-02 连接交互复杂导致误操作

- 触发：端口拖拽与非法连接场景。
- 缓解：严格合法性检查与即时反馈。

## R-03 性能抖动

- 触发：机器规模接近 50。
- 缓解：限制渲染更新频率，简化 Stage1 物流模型。

## 3. 依赖与前置

- 配方数据最小集（`originium_ore`、`originium_powder`）需先确定。
- 统计口径（滑动窗口或累计速率）需在实现前冻结。
- 运行时方案冻结：Stage1 当前不采用游戏引擎。

## 4. 技术决策同步

- Stage1 保持 Web 前端技术路线（React + Canvas + Worker 预置）。
- 不采用游戏引擎，以控制包体、复杂度和静态部署成本。
